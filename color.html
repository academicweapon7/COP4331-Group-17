<html>
<head>
    <title>Contact Manager</title>
    <script type="text/javascript" src="js/code.js"></script>
    <link href="css/styles.css" rel="stylesheet">    
    <link href="https://fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet">
    
    <script type="text/javascript">
    document.addEventListener('DOMContentLoaded', function() 
    {
        readCookie();
    }, false);
    
    // Function to trigger search when Enter key is pressed
    function handleKeyPress(event) {
        if (event.keyCode === 13) {
            searchContact();
        }
    }

    // Function to toggle visibility of add contact form
    function toggleAddContactForm(button) {
        var addContactForm = document.getElementById("addContactForm");
        addContactForm.classList.toggle("hidden");
        
        // Change button text based on form visibility
        if (addContactForm.classList.contains("hidden")) {
            button.innerHTML = "Add Contact";
        } else {
            button.innerHTML = "Cancel";
        }
    }
    </script>
    
    <style>
    .hidden {
        display: none;
    }
    </style>
    
</head>
<body>

<h1 id="title">Contact Manager</h1>

<div id="loggedInDiv">
    <span id="userName"></span><br />
    <button type="button" id="logoutButton" class="buttons" onclick="doLogout();"> Log Out </button>
</div>

<div id="accessUIDiv">
    <br />

    <!-- Button to toggle add contact form -->
    <button type="button" id="toggleAddContactButton" class="buttons" onclick="toggleAddContactForm(this);"> Add Contact </button><br />

    <!-- Add contact form -->
    <div id="addContactForm" class="hidden">
        <!-- Input fields for contact information -->
        <input type="text" id="contactFirstName" placeholder="First Name">
        <input type="text" id="contactLastName" placeholder="Last Name">
        <input type="text" id="contactYachtName" placeholder="Yacht Name">
        <input type="text" id="contactYachtSize" placeholder="Yacht Size">
        <input type="text" id="contactPhone" placeholder="Phone">
        <input type="text" id="contactEmail" placeholder="Email">

        <!-- Button to add contact -->
        <button type="button" id="addContactButton" class="buttons" onclick="addContact();"> Add Contact </button><br />

        <!-- Display result of adding contact -->
        <span id="contactAddResult"></span>
    </div>

    <br />
    
    <!-- Input field for search -->
    <input type="text" id="searchText" placeholder="Search" onkeypress="handleKeyPress(event);">
    <!-- Button to trigger search -->
    <button type="button" id="searchButton" class="buttons" onclick="searchContact();"> Search </button><br />

    <!-- Display result of search -->
    <span id="contactSearchResult"></span>
    <div id="contactResults"></div>
</div>

</body>
</html>
